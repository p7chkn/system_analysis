Ссылка на миро со схемами:
https://miro.com/app/board/uXjVNNNraW0=/?share_link_id=980739436676

Разделение по контекстам:
- Оформление услуг: в этот контекст попало все, что связано с оформлением услуг, в том числе и логика на поиск воркера, так как пока она делается чистым рандомом, в целом ее можно не выделять в отдельный контекст, как мне показалось. Так же сюда включен расчет суммы списания для клиентов, я сомневался, куда его включить в "Финансовые операции" или сюда, но кажется, что логичнее тут, так как финансовые операции у нас занимаются только составлением инвойсов.
- Организация работы воркеров: в этот контекст попали все события в системе, которые связанные с работой воркеров, так же расчет тут сделан, по причине выше.
- Сборка заказа: в отдельный контекст вынесено все, что связано со сборкой заказов, так же там находится взаимодействие с внешним сервисом печенек.
- Финансовые операции: тут находятся инвойсы и транзакции.
- Отдел контроля качества: отдельный контекст для отдела качества.
- Уведомления: отправка всех нотификаций вынесена в отдельный контекст, так же уведомления сгруппированы по типу уведомлений.
- Прием на работу новых воркеров: тут все действия в системе связанные с приемом на работу новых воркеров.
- Управление ставками: все, что связано со ставками на заказы.


Возможно стоит вынести заказы в отдельный контекст, но мне показалось уместным поместить его в контекст с оформлением услуг, так как сам заказ тесно связан с клиентами и по-сути, они являются владельцами этих данных, в остальных системах на заказ навешиваются свои данные, но они лишь расширяют его базовые свойства. Возможно тут нужно выделить еще контекст под пользователей в целом и разделить их там по ролям, но как будто это уже показалось деталями реализации, так как по требованиям нет специфичности управления пользователями, нет реализации создания менеджеров и тд (есть только создание новых воркеров).

Для реализации данной системы выбираем из отдельных сервисов и монолита.
Я выбираю монолит в связи с тем, что нагрузки будут не такие большие, так как она будет для внутренного использования котами-тестировщиками, соотвественно ее не нужно будет сильно масштабировать, даже когда ее популярность будет расти. Так же есть требование о том, что будет много тестироваться гипотез, а это будет проще делать внутри монолита, чем в распределенной микросервисной системе, так как изменения могут будут радикальным, то перестраивать это внутри одного монолита будет проще. Так же при использовании монолита будет хороший TTM, так как его проще написать. Но стоит учитывать, что сам монолит стоит делать модульный и с небольшой связанностью кода, чтобы из этого не получился непонятный комок.
Сервисы нотификаций и биллинга можно будет вынести в отдельные сервисы, так как они достаточно универсальные и слабо зависимы от остальные данных.

### Стейкхолдеры
Ссылка на схемы:https://miro.com/app/board/uXjVNHxdqAU=/?share_link_id=993751964359

- Топ-менеджмент
- Менеджеры
- Финотдел
- Разработчики
- Админы
- Юристы
- Клиенты
- Коты исполнители

### Выбор архитектурного стиля
Так как у нас есть различные требования в различных частях системы и в целом система не имеет требований к стоимости и мы считает стоимость инфарструктуры равной нулю выбираем тут микросервисный архитектурный стиль.
#### Выделение мироксервисов:
1. Найм воркеров - мы выделяем его в отдельный сервис, так как у нас для него есть особые требования по деплою и жизненному циклу, отличному от остальных. Его можно выполнить в виде отдельного слоистого монолита.
2. Подбор исполнителя на заказ - мы так же выделяем его в отдельный сервис, так как у него есть отдельное архитектурное требование, что он работает как map-reduce, поэтому его лучше выполнить в виде отдельного pipeline сервиса.
3. Увеличение лояльности клиентов - у нас в отдельный сторонний сервис, который уже реализован
4. Вовлеченность менеджеров - мы так же выделяем в отдельный сервис, так как у него есть особое требование по безопасности, его можно реализовать в виде слоистого монолита.
5. Расчет и списаний средств стоит вынести в отдельный сервис, так как у него есть требования консистентности данных и по изменчивости и добавлению новых способов средств оплаты, он будет обновляться чаще, чем сервис начисления средств. Его можно реализовать в виде слоистого монолита.
6. Расчет и начисление зарплаты воркерам - мы выделяем так, же как и прошлый, из-за требования консистентности данных, но так как он изменяться будет значительно реже, то его стоит выделить в отдельный. го можно реализовать в виде слоистого монолита.
7. Менеджмент работы воркеров, Создание заказов, Улучшение скорости обслуживания, Проверка качества заказов можно оставить в виде одного модульного монолтиа, так как у них схожие характеристики.

### Выбор вида баз данных
- Сервисам по расчетам выплат и начислений выбираем реляционную базу, так как им нужно сохранять консистентность данных, так же им нужны отдельные базы данных, чтобы данные об оплате были изолированные.
- Сервису найма вокреров нужна отдельная база данных, так как их данные не используются в других сервисах. Так как заявлений будет поступать много, а так же исходя из того, что анкеты для заполнения могут быть разными, тут можно использовать документоориентированную базу данных.
- Для сервиса вовлеченности менеджеров точно стоит использовать отдельную базу данных, из-за требований безопасности, так как других ограничений нет, то можно использовать реляционную базу данных.
- Остается Подбор исполнителя на заказ и сервис объединяющий другие контексты, для них можно использовать одну БД, так им требуются некоторые общие данные и между ними нет конфликтов о владении данными. Используем в этом случае реляционную базу данных.
### Выбор стиля коммуникаций между сервисами
- Между сервисом заказов и сервисом списаний средств можно выбрать любой тип коммуникаций, так как нам не важно, прямо в моменте получать ответ от сервиса списаний, нам нужно туда стримить модель клиента, поэтому мы можем выбрать асинхронный тип комуникаций.
- Между сервисом заказов и сервисом начислений средств очень похожая ситуация, поэтому там можно поступить так же.
- Между сервисом найма сотрудников и сервисом заказов, так же не важно немедленная комуникация, поэтому тут можно так же выбрать асинхронный тип комуникации.
- Между сервисом заказов и сервисом управления ставками у нас так же может быть асинхронная комуникация, так как нам надо туда стримить событие заказа и его изменения.
- Между сервисом заказов и сервисом подбора воркера используем синхронную комуникацию, так как событие создание заказа невозможно завершить без подбора воркера.
- Между сервисом заказа и сторонним сервисом производства печенья мы выбираем синхронную комуникацию.

### Фитнес-функции
- проверка покрытия тестами не менее 90%
- проверка TTM, можно по метрикам из сервиса используемого для задач
- создание новых очередей и топиков для асинхронной комуникации только с разрешения архитектора
- мониторинг производительности системы в реальном времени для обеспечения высокой доступности и надежности.

### ADR 00X: Выделение найма в отдельный сервис 
Status: Accepted
Context: Поддомен "Найм персонала", был определен, как core поддомен, так как он решает ключевую задачу для бизнеса по нахождения исполнителей для решения задач, так же это является весьма не тривиальной задачей и является конкуретным преимуществовм. Для выделенного контекста "Поиск, оценка и проверка кандидатов" в этом поддомене были выделены следующие требования: 
- Modifiability (при этом тут должен быть релизный цикл неделя, отличный от всего остального приложения)
- Maintainability
- Availability
- agility
- testability
- deployability
Decision: Стоит выделить этот сервис в отдельный, так как его требования отличаются от требований других сервисов и поэтому у него будет другой релизный цикл, он будет в друго время деплоится в отличии от остальных.
Сompliance: Решение нужно проверить вручную, убедиться что разработчики действительно выделили этот сервис в отдельный.
